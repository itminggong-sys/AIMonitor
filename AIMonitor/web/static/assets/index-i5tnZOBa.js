import{j as e,H as s}from"./index-BqT3aLp1.js";import{r as a}from"./vendor-CZIWcOcD.js";import{S as n,B as t,V as r,W as i,X as l,H as d,Y as o,z as c,I as x,ae as m,U as u,a1 as p,b as j,$ as h,af as g,ag as f,c as y}from"./antd-B8UvalbT.js";const{Option:w}=u,{Search:v}=x,k=()=>{const[x,k]=a.useState(!1),[S,z]=a.useState(""),[b,C]=a.useState("all"),I=[{id:"c1a2b3c4d5e6",name:"web-frontend",image:"nginx:1.20-alpine",status:"running",cpu:15,memory:128,network:"172.17.0.2",uptime:"2天3小时",ports:"80:8080, 443:8443"},{id:"f7g8h9i0j1k2",name:"api-backend",image:"node:16-alpine",status:"running",cpu:35,memory:512,network:"172.17.0.3",uptime:"1天18小时",ports:"3000:3000"},{id:"l3m4n5o6p7q8",name:"redis-cache",image:"redis:6.2-alpine",status:"running",cpu:8,memory:64,network:"172.17.0.4",uptime:"5天12小时",ports:"6379:6379"},{id:"r9s0t1u2v3w4",name:"mysql-db",image:"mysql:8.0",status:"stopped",cpu:0,memory:0,network:"-",uptime:"-",ports:"3306:3306"}],N=I.filter(e=>{const s=e.name.toLowerCase().includes(S.toLowerCase())||e.image.toLowerCase().includes(S.toLowerCase()),a="all"===b||e.status===b;return s&&a}),F=[{title:"容器名称",dataIndex:"name",key:"name",render:(s,a)=>e.jsxs(n,{children:[e.jsx(c,{}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500},children:s}),e.jsx("div",{style:{fontSize:"12px",color:"#666",fontFamily:"monospace"},children:a.id.substring(0,12)})]})]})},{title:"镜像",dataIndex:"image",key:"image",render:s=>e.jsx("span",{style:{fontFamily:"monospace",fontSize:"12px"},children:s})},{title:"状态",dataIndex:"status",key:"status",render:s=>e.jsx(j,{color:{running:"green",stopped:"red",paused:"orange"}[s],children:{running:"运行中",stopped:"已停止",paused:"已暂停"}[s]})},{title:"CPU",dataIndex:"cpu",key:"cpu",render:s=>s>0?e.jsx(h,{percent:s,size:"small",strokeColor:s>80?"#ff4d4f":"#52c41a"}):"-"},{title:"内存",dataIndex:"memory",key:"memory",render:e=>e>0?`${e}MB`:"-"},{title:"网络",dataIndex:"network",key:"network",render:s=>e.jsx("span",{style:{fontFamily:"monospace",fontSize:"12px"},children:s})},{title:"运行时间",dataIndex:"uptime",key:"uptime"},{title:"端口映射",dataIndex:"ports",key:"ports",render:s=>e.jsx("span",{style:{fontFamily:"monospace",fontSize:"12px"},children:s})},{title:"操作",key:"action",render:(s,a)=>e.jsxs(n,{children:["running"===a.status?e.jsx(t,{size:"small",icon:e.jsx(g,{})}):e.jsx(t,{size:"small",icon:e.jsx(f,{}),type:"primary"}),e.jsx(t,{size:"small",icon:e.jsx(y,{}),danger:!0})]})}],L=I.filter(e=>"running"===e.status).length,q=I.filter(e=>"stopped"===e.status).length,B=I.filter(e=>"running"===e.status).reduce((e,s)=>e+s.cpu,0),M=I.filter(e=>"running"===e.status).reduce((e,s)=>e+s.memory,0);return e.jsxs(e.Fragment,{children:[e.jsxs(s,{children:[e.jsx("title",{children:"容器监控 - AI Monitor System"}),e.jsx("meta",{name:"description",content:"Docker容器监控和管理"})]}),e.jsxs("div",{className:"fade-in",children:[e.jsxs("div",{className:"flex-between mb-24",children:[e.jsxs("div",{children:[e.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:600},children:"容器监控"}),e.jsx("p",{style:{margin:"8px 0 0 0",color:"#666"},children:"Docker容器状态监控与管理"})]}),e.jsx(n,{children:e.jsx(t,{icon:e.jsx(r,{}),loading:x,children:"刷新"})})]}),e.jsxs(i,{gutter:[16,16],className:"mb-24",children:[e.jsx(l,{xs:24,sm:12,lg:6,children:e.jsx(d,{className:"card-shadow",children:e.jsx(o,{title:"运行中容器",value:L,valueStyle:{color:"#52c41a"},prefix:e.jsx(c,{})})})}),e.jsx(l,{xs:24,sm:12,lg:6,children:e.jsx(d,{className:"card-shadow",children:e.jsx(o,{title:"已停止容器",value:q,valueStyle:{color:"#ff4d4f"}})})}),e.jsx(l,{xs:24,sm:12,lg:6,children:e.jsx(d,{className:"card-shadow",children:e.jsx(o,{title:"总CPU使用",value:B,suffix:"%",valueStyle:{color:"#1890ff"}})})}),e.jsx(l,{xs:24,sm:12,lg:6,children:e.jsx(d,{className:"card-shadow",children:e.jsx(o,{title:"总内存使用",value:M,suffix:"MB",valueStyle:{color:"#722ed1"}})})})]}),e.jsxs(d,{className:"card-shadow",children:[e.jsx("div",{className:"flex-between mb-16",children:e.jsxs(n,{children:[e.jsx(v,{placeholder:"搜索容器名称或镜像",value:S,onChange:e=>z(e.target.value),style:{width:300},prefix:e.jsx(m,{})}),e.jsxs(u,{value:b,onChange:C,style:{width:120},children:[e.jsx(w,{value:"all",children:"全部状态"}),e.jsx(w,{value:"running",children:"运行中"}),e.jsx(w,{value:"stopped",children:"已停止"}),e.jsx(w,{value:"paused",children:"已暂停"})]})]})}),e.jsx(p,{dataSource:N,columns:F,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 个容器`}})]})]})]})};export{k as default};
