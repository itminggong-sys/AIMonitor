import{j as e,H as s}from"./index-BqT3aLp1.js";import{r as t}from"./vendor-CZIWcOcD.js";import{i as a,L as r}from"./charts-BRUDwXyH.js";import{S as i,U as l,B as o,V as n,W as d,X as c,H as m,Y as x,Z as h,_ as f,$ as u,x as j,a0 as p,a1 as y,v as g,b as v,a2 as w}from"./antd-B8UvalbT.js";const{RangePicker:k}=w,{Option:S}=l,I=()=>{const[w,k]=t.useState({cpu:65,memory:78,disk:45,network:23}),[I,N]=t.useState(!1),[b,M]=t.useState("24h"),z=[{title:"级别",dataIndex:"level",key:"level",render:s=>e.jsx(v,{color:{critical:"red",high:"orange",medium:"blue",low:"green"}[s],children:s.toUpperCase()})},{title:"告警内容",dataIndex:"title",key:"title"},{title:"来源",dataIndex:"source",key:"source"},{title:"时间",dataIndex:"time",key:"time"},{title:"状态",dataIndex:"status",key:"status",render:s=>e.jsx(v,{color:"active"===s?"red":"green",children:"active"===s?"活跃":"已解决"})}],A=[{title:"服务名称",dataIndex:"name",key:"name"},{title:"状态",dataIndex:"status",key:"status",render:s=>e.jsx(v,{color:{online:"green",offline:"red",warning:"orange"}[s],children:{online:"在线",offline:"离线",warning:"告警"}[s]})},{title:"可用性",dataIndex:"uptime",key:"uptime"},{title:"响应时间",dataIndex:"responseTime",key:"responseTime",render:e=>`${e}ms`}];return t.useEffect(()=>{const e=a(document.getElementById("cpu-chart")),s={title:{text:"CPU使用率趋势",textStyle:{fontSize:14}},tooltip:{trigger:"axis"},xAxis:{type:"category",data:Array.from({length:24},(e,s)=>`${s}:00`)},yAxis:{type:"value",max:100,axisLabel:{formatter:"{value}%"}},series:[{data:Array.from({length:24},()=>Math.floor(100*Math.random())),type:"line",smooth:!0,areaStyle:{color:new r(0,0,0,1,[{offset:0,color:"rgba(24, 144, 255, 0.3)"},{offset:1,color:"rgba(24, 144, 255, 0.1)"}])},lineStyle:{color:"#1890ff"}}]};e.setOption(s);const t=a(document.getElementById("memory-chart")),i={title:{text:"内存使用率趋势",textStyle:{fontSize:14}},tooltip:{trigger:"axis"},xAxis:{type:"category",data:Array.from({length:24},(e,s)=>`${s}:00`)},yAxis:{type:"value",max:100,axisLabel:{formatter:"{value}%"}},series:[{data:Array.from({length:24},()=>Math.floor(100*Math.random())),type:"line",smooth:!0,areaStyle:{color:new r(0,0,0,1,[{offset:0,color:"rgba(82, 196, 26, 0.3)"},{offset:1,color:"rgba(82, 196, 26, 0.1)"}])},lineStyle:{color:"#52c41a"}}]};t.setOption(i);const l=()=>{e.resize(),t.resize()};return window.addEventListener("resize",l),()=>{e.dispose(),t.dispose(),window.removeEventListener("resize",l)}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(s,{children:[e.jsx("title",{children:"仪表板 - AI Monitor System"}),e.jsx("meta",{name:"description",content:"AI Monitor系统监控仪表板"})]}),e.jsxs("div",{className:"fade-in",children:[e.jsxs("div",{className:"flex-between mb-24",children:[e.jsxs("div",{children:[e.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:600},children:"监控仪表板"}),e.jsx("p",{style:{margin:"8px 0 0 0",color:"#666"},children:"实时监控系统状态和关键指标"})]}),e.jsxs(i,{children:[e.jsxs(l,{value:b,onChange:M,style:{width:120},children:[e.jsx(S,{value:"1h",children:"最近1小时"}),e.jsx(S,{value:"24h",children:"最近24小时"}),e.jsx(S,{value:"7d",children:"最近7天"}),e.jsx(S,{value:"30d",children:"最近30天"})]}),e.jsx(o,{icon:e.jsx(n,{}),loading:I,onClick:async()=>{N(!0),setTimeout(()=>{k({cpu:Math.floor(100*Math.random()),memory:Math.floor(100*Math.random()),disk:Math.floor(100*Math.random()),network:Math.floor(100*Math.random())}),N(!1)},1e3)},children:"刷新"})]})]}),e.jsxs(d,{gutter:[16,16],className:"mb-24",children:[e.jsx(c,{xs:24,sm:12,lg:6,children:e.jsxs(m,{className:"card-shadow",children:[e.jsx(x,{title:"CPU使用率",value:w.cpu,precision:1,suffix:"%",valueStyle:{color:w.cpu>80?"#ff4d4f":"#3f8600"},prefix:w.cpu>80?e.jsx(h,{}):e.jsx(f,{})}),e.jsx(u,{percent:w.cpu,strokeColor:w.cpu>80?"#ff4d4f":"#52c41a",showInfo:!1,size:"small",className:"mt-16"})]})}),e.jsx(c,{xs:24,sm:12,lg:6,children:e.jsxs(m,{className:"card-shadow",children:[e.jsx(x,{title:"内存使用率",value:w.memory,precision:1,suffix:"%",valueStyle:{color:w.memory>80?"#ff4d4f":"#3f8600"},prefix:w.memory>80?e.jsx(h,{}):e.jsx(f,{})}),e.jsx(u,{percent:w.memory,strokeColor:w.memory>80?"#ff4d4f":"#52c41a",showInfo:!1,size:"small",className:"mt-16"})]})}),e.jsx(c,{xs:24,sm:12,lg:6,children:e.jsxs(m,{className:"card-shadow",children:[e.jsx(x,{title:"磁盘使用率",value:w.disk,precision:1,suffix:"%",valueStyle:{color:w.disk>80?"#ff4d4f":"#3f8600"},prefix:e.jsx(j,{})}),e.jsx(u,{percent:w.disk,strokeColor:w.disk>80?"#ff4d4f":"#52c41a",showInfo:!1,size:"small",className:"mt-16"})]})}),e.jsx(c,{xs:24,sm:12,lg:6,children:e.jsx(m,{className:"card-shadow",children:e.jsx(x,{title:"网络流量",value:w.network,precision:1,suffix:"MB/s",valueStyle:{color:"#1890ff"},prefix:e.jsx(p,{})})})})]}),e.jsxs(d,{gutter:[16,16],className:"mb-24",children:[e.jsx(c,{xs:24,lg:12,children:e.jsx(m,{title:"CPU使用率趋势",className:"card-shadow",children:e.jsx("div",{id:"cpu-chart",style:{height:"300px"}})})}),e.jsx(c,{xs:24,lg:12,children:e.jsx(m,{title:"内存使用率趋势",className:"card-shadow",children:e.jsx("div",{id:"memory-chart",style:{height:"300px"}})})})]}),e.jsxs(d,{gutter:[16,16],children:[e.jsx(c,{xs:24,lg:12,children:e.jsx(m,{title:e.jsxs(i,{children:[e.jsx(g,{}),e.jsx("span",{children:"最新告警"})]}),extra:e.jsx(o,{type:"link",size:"small",children:"查看全部"}),className:"card-shadow",children:e.jsx(y,{dataSource:[{id:"1",level:"critical",title:"CPU使用率过高",source:"web-server-01",time:"2分钟前",status:"active"},{id:"2",level:"high",title:"内存使用率告警",source:"database-01",time:"5分钟前",status:"active"},{id:"3",level:"medium",title:"磁盘空间不足",source:"storage-01",time:"10分钟前",status:"resolved"}],columns:z,pagination:!1,size:"small",rowKey:"id"})})}),e.jsx(c,{xs:24,lg:12,children:e.jsx(m,{title:e.jsxs(i,{children:[e.jsx(j,{}),e.jsx("span",{children:"服务状态"})]}),extra:e.jsx(o,{type:"link",size:"small",children:"查看详情"}),className:"card-shadow",children:e.jsx(y,{dataSource:[{name:"Web服务",status:"online",uptime:"99.9%",responseTime:120},{name:"数据库",status:"online",uptime:"99.8%",responseTime:45},{name:"Redis缓存",status:"warning",uptime:"98.5%",responseTime:200},{name:"Nginx",status:"online",uptime:"99.9%",responseTime:15}],columns:A,pagination:!1,size:"small",rowKey:"name"})})})]})]})]})};export{I as default};
