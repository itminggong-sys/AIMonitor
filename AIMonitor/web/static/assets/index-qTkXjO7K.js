import{j as e}from"./index-DIu9wXaB.js";import{j as t,u as n,r as s}from"./vendor-D6r2_tUy.js";import{J as i,S as o,h as a,T as r,b as l,g as c,aI as d,ad as g,Q as p,i as m,U as x,aJ as u,B as h,aK as j}from"./antd-C8aMnYDz.js";const{Title:f,Paragraph:k,Text:v,Link:y}=r,{Step:A}=d,b=({agentType:t,title:n,description:s,requirements:r,steps:x,configuration:u,troubleshooting:h})=>e.jsxs("div",{className:"install-guide-container",children:[e.jsxs(i,{className:"install-guide-header",children:[e.jsxs(o,{align:"center",className:"header-content",children:[e.jsx("div",{className:"agent-icon",children:e.jsx(a,{style:{fontSize:"32px",color:"#52c41a"}})}),e.jsxs("div",{children:[e.jsx(f,{level:2,style:{margin:0},children:n}),e.jsx(l,{color:"blue",style:{marginTop:"8px"},children:t.toUpperCase()})]})]}),e.jsx(k,{style:{marginTop:"16px",fontSize:"16px"},children:s})]}),e.jsx(i,{title:e.jsxs(e.Fragment,{children:[e.jsx(c,{})," ç³»ç»Ÿè¦æ±‚"]}),className:"requirements-card",children:e.jsx("ul",{className:"requirements-list",children:r.map((t,n)=>e.jsxs("li",{children:[e.jsx(a,{style:{color:"#52c41a",marginRight:"8px"}}),t]},n))})}),e.jsx(i,{title:"ðŸ“‹ å®‰è£…æ­¥éª¤",className:"steps-card",children:e.jsx(d,{direction:"vertical",size:"small",children:x.map((t,n)=>e.jsx(A,{title:e.jsx(v,{strong:!0,children:t.title}),description:e.jsxs("div",{className:"step-content",children:[e.jsx(k,{children:t.description}),t.code&&e.jsx("div",{className:"code-block",children:e.jsx("pre",{children:e.jsx("code",{children:t.code})})}),t.note&&e.jsx(g,{message:t.note,type:"info",showIcon:!0,style:{marginTop:"8px"}})]}),status:"process"},n))})}),u&&e.jsxs(i,{title:"âš™ï¸ é…ç½®è¯´æ˜Ž",className:"config-card",children:[e.jsx(f,{level:4,children:u.title}),e.jsx(k,{children:u.content}),u.example&&e.jsxs("div",{children:[e.jsx(v,{strong:!0,children:"é…ç½®ç¤ºä¾‹ï¼š"}),e.jsx("div",{className:"code-block",children:e.jsx("pre",{children:e.jsx("code",{children:u.example})})})]})]}),h&&h.length>0&&e.jsx(i,{title:e.jsxs(e.Fragment,{children:[e.jsx(m,{})," å¸¸è§é—®é¢˜"]}),className:"troubleshooting-card",children:h.map((t,n)=>e.jsxs("div",{className:"troubleshooting-item",children:[e.jsxs(f,{level:5,style:{color:"#fa8c16"},children:["é—®é¢˜ï¼š",t.issue]}),e.jsxs(k,{children:[e.jsx(v,{strong:!0,children:"è§£å†³æ–¹æ¡ˆï¼š"}),t.solution]}),n<h.length-1&&e.jsx(p,{})]},n))}),e.jsx(i,{className:"footer-card",children:e.jsx(g,{message:"éœ€è¦å¸®åŠ©ï¼Ÿ",description:e.jsxs("div",{children:["å¦‚æžœåœ¨å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¬çš„"," ",e.jsx(y,{href:"/docs",target:"_blank",children:"è¯¦ç»†æ–‡æ¡£"})," ","æˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚"]}),type:"success",showIcon:!0})})]}),w=()=>{const{agentType:i}=t(),o=n(),[a,r]=s.useState(!0),[l,c]=s.useState(null),[d,g]=s.useState(null);s.useEffect(()=>{(async()=>{if(!i)return g("Agentç±»åž‹å‚æ•°ç¼ºå¤±"),void r(!1);try{const e=await fetch(`/api/v1/agents/install-guide/${i}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.text(),n=p(t,i);c(n)}catch(e){console.error("èŽ·å–å®‰è£…æŒ‡å—å¤±è´¥:",e),g("èŽ·å–å®‰è£…æŒ‡å—å¤±è´¥ï¼Œè¯·ç¨åŽé‡è¯•")}finally{r(!1)}})()},[i]);const p=(e,t)=>({windows:{agentType:"windows",title:"Windows Agent å®‰è£…æŒ‡å—",description:"åœ¨Windowsç³»ç»Ÿä¸Šå®‰è£…å’Œé…ç½®AI Monitor Agentï¼Œç”¨äºŽç›‘æŽ§ç³»ç»Ÿæ€§èƒ½ã€è¿›ç¨‹çŠ¶æ€å’Œèµ„æºä½¿ç”¨æƒ…å†µã€‚",requirements:["Windows 10 æˆ–æ›´é«˜ç‰ˆæœ¬","è‡³å°‘ 100MB å¯ç”¨ç£ç›˜ç©ºé—´","ç®¡ç†å‘˜æƒé™",".NET Framework 4.7.2 æˆ–æ›´é«˜ç‰ˆæœ¬"],steps:[{title:"ä¸‹è½½Agentå®‰è£…åŒ…",description:"ä»Žå®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„Windows Agentå®‰è£…åŒ…ã€‚",code:'# ä¸‹è½½å‘½ä»¤\nInvoke-WebRequest -Uri "https://releases.aimonitor.com/windows/latest.zip" -OutFile "aimonitor-agent.zip"'},{title:"è§£åŽ‹å®‰è£…åŒ…",description:"å°†ä¸‹è½½çš„ZIPæ–‡ä»¶è§£åŽ‹åˆ°ç›®æ ‡ç›®å½•ã€‚",code:'Expand-Archive -Path "aimonitor-agent.zip" -DestinationPath "C:\\Program Files\\AIMonitor"'},{title:"é…ç½®Agent",description:"ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®ç›‘æŽ§æœåŠ¡å™¨åœ°å€å’Œè®¤è¯ä¿¡æ¯ã€‚",note:"è¯·ç¡®ä¿é…ç½®æ–‡ä»¶ä¸­çš„æœåŠ¡å™¨åœ°å€æ­£ç¡®ï¼Œå¦åˆ™Agentæ— æ³•æ­£å¸¸è¿žæŽ¥ã€‚"},{title:"å®‰è£…æœåŠ¡",description:"ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå®‰è£…è„šæœ¬ï¼Œå°†Agentæ³¨å†Œä¸ºWindowsæœåŠ¡ã€‚",code:".\\install-service.bat"},{title:"å¯åŠ¨æœåŠ¡",description:"å¯åŠ¨AI Monitor AgentæœåŠ¡ã€‚",code:'Start-Service "AIMonitor Agent"'}],configuration:{title:"Agenté…ç½®æ–‡ä»¶è¯´æ˜Ž",content:"é…ç½®æ–‡ä»¶ä½äºŽå®‰è£…ç›®å½•ä¸‹çš„config.yamlï¼ŒåŒ…å«æœåŠ¡å™¨è¿žæŽ¥ã€ç›‘æŽ§é¡¹ç›®å’Œæ—¥å¿—è®¾ç½®ã€‚",example:'server:\n  host: "your-monitor-server.com"\n  port: 8080\n  token: "your-auth-token"\n\nmonitoring:\n  interval: 30s\n  metrics:\n    - cpu\n    - memory\n    - disk\n    - network\n\nlogging:\n  level: info\n  file: "logs/agent.log"'},troubleshooting:[{issue:"æœåŠ¡å¯åŠ¨å¤±è´¥",solution:"æ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿æœ‰ç®¡ç†å‘˜æƒé™ï¼ŒæŸ¥çœ‹Windowsäº‹ä»¶æ—¥å¿—èŽ·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯ã€‚"},{issue:"æ— æ³•è¿žæŽ¥åˆ°ç›‘æŽ§æœåŠ¡å™¨",solution:"éªŒè¯ç½‘ç»œè¿žæŽ¥ï¼Œæ£€æŸ¥é˜²ç«å¢™è®¾ç½®ï¼Œç¡®è®¤æœåŠ¡å™¨åœ°å€å’Œç«¯å£é…ç½®æ­£ç¡®ã€‚"}]},linux:{agentType:"linux",title:"Linux Agent å®‰è£…æŒ‡å—",description:"åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…å’Œé…ç½®AI Monitor Agentï¼Œæ”¯æŒä¸»æµLinuxå‘è¡Œç‰ˆã€‚",requirements:["Linuxå†…æ ¸ç‰ˆæœ¬ 3.10 æˆ–æ›´é«˜","è‡³å°‘ 100MB å¯ç”¨ç£ç›˜ç©ºé—´","rootæƒé™æˆ–sudoè®¿é—®æƒé™","systemdæ”¯æŒï¼ˆæŽ¨èï¼‰"],steps:[{title:"ä¸‹è½½å®‰è£…åŒ…",description:"ä½¿ç”¨wgetæˆ–curlä¸‹è½½Linux Agentå®‰è£…åŒ…ã€‚",code:"wget https://releases.aimonitor.com/linux/aimonitor-agent-latest.tar.gz"},{title:"è§£åŽ‹å®‰è£…åŒ…",description:"è§£åŽ‹ä¸‹è½½çš„tar.gzæ–‡ä»¶ã€‚",code:"tar -xzf aimonitor-agent-latest.tar.gz\ncd aimonitor-agent"},{title:"è¿è¡Œå®‰è£…è„šæœ¬",description:"æ‰§è¡Œå®‰è£…è„šæœ¬ï¼Œè‡ªåŠ¨å®ŒæˆAgentçš„å®‰è£…å’Œé…ç½®ã€‚",code:"sudo ./install.sh",note:"å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿç±»åž‹å¹¶é€‰æ‹©åˆé€‚çš„å®‰è£…æ–¹å¼ã€‚"},{title:"é…ç½®Agent",description:"ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®ç›‘æŽ§å‚æ•°ã€‚",code:"sudo nano /etc/aimonitor/config.yaml"},{title:"å¯åŠ¨æœåŠ¡",description:"å¯åŠ¨å¹¶å¯ç”¨AI Monitor AgentæœåŠ¡ã€‚",code:"sudo systemctl start aimonitor-agent\nsudo systemctl enable aimonitor-agent"}],configuration:{title:"Linux Agenté…ç½®",content:"é…ç½®æ–‡ä»¶ä½äºŽ/etc/aimonitor/config.yamlï¼ŒåŒ…å«å®Œæ•´çš„ç›‘æŽ§å’Œè¿žæŽ¥è®¾ç½®ã€‚",example:'server:\n  endpoint: "https://your-server.com:8080"\n  api_key: "your-api-key"\n\nmonitoring:\n  system:\n    enabled: true\n    interval: "30s"\n  processes:\n    enabled: true\n    whitelist: ["nginx", "mysql", "redis"]\n\nlogging:\n  level: "info"\n  file: "/var/log/aimonitor/agent.log"\n  max_size: "100MB"'},troubleshooting:[{issue:"æƒé™ä¸è¶³é”™è¯¯",solution:"ç¡®ä¿ä½¿ç”¨sudoè¿è¡Œå®‰è£…è„šæœ¬ï¼Œæ£€æŸ¥/etc/aimonitorç›®å½•çš„æƒé™è®¾ç½®ã€‚"},{issue:"systemdæœåŠ¡æ— æ³•å¯åŠ¨",solution:"æ£€æŸ¥æœåŠ¡æ–‡ä»¶æ˜¯å¦æ­£ç¡®å®‰è£…ï¼Œä½¿ç”¨journalctl -u aimonitor-agentæŸ¥çœ‹è¯¦ç»†æ—¥å¿—ã€‚"}]},kafka:{agentType:"kafka",title:"Kafka Agent å®‰è£…æŒ‡å—",description:"ç›‘æŽ§Apache Kafkaé›†ç¾¤çš„æ€§èƒ½æŒ‡æ ‡ã€ä¸»é¢˜çŠ¶æ€ã€æ¶ˆè´¹è€…ç»„å»¶è¿Ÿç­‰å…³é”®ä¿¡æ¯ã€‚",requirements:["Kafka 2.0 æˆ–æ›´é«˜ç‰ˆæœ¬","Java 8 æˆ–æ›´é«˜ç‰ˆæœ¬","JMXç«¯å£è®¿é—®æƒé™","ç½‘ç»œè¿žæŽ¥åˆ°Kafkaé›†ç¾¤"],steps:[{title:"ä¸‹è½½Kafka Agent",description:"èŽ·å–ä¸“ç”¨çš„Kafkaç›‘æŽ§Agentã€‚",code:"wget https://releases.aimonitor.com/kafka/kafka-agent-latest.jar"},{title:"é…ç½®Kafkaè¿žæŽ¥",description:"åˆ›å»ºKafkaè¿žæŽ¥é…ç½®æ–‡ä»¶ã€‚",code:"cat > kafka-config.properties << EOF\nbootstrap.servers=localhost:9092\njmx.port=9999\nEOF"},{title:"å¯åŠ¨Agent",description:"ä½¿ç”¨Javaè¿è¡ŒKafka Agentã€‚",code:"java -jar kafka-agent-latest.jar --config kafka-config.properties",note:"ç¡®ä¿Kafkaé›†ç¾¤å·²å¯ç”¨JMXç›‘æŽ§ç«¯å£ã€‚"}],configuration:{title:"Kafkaç›‘æŽ§é…ç½®",content:"Kafka Agentæ”¯æŒç›‘æŽ§å¤šä¸ªé›†ç¾¤ï¼Œå¯é…ç½®ä¸»é¢˜ã€åˆ†åŒºã€æ¶ˆè´¹è€…ç»„ç­‰ç›‘æŽ§é¡¹ã€‚",example:'kafka:\n  clusters:\n    - name: "production"\n      bootstrap_servers: ["kafka1:9092", "kafka2:9092"]\n      jmx_port: 9999\n    - name: "staging"\n      bootstrap_servers: ["kafka-staging:9092"]\n      jmx_port: 9999\n\nmonitoring:\n  topics: ["user-events", "order-events"]\n  consumer_groups: ["analytics-group", "notification-group"]\n  metrics_interval: 30s'},troubleshooting:[{issue:"JMXè¿žæŽ¥å¤±è´¥",solution:"æ£€æŸ¥KafkaæœåŠ¡å™¨çš„JMXé…ç½®ï¼Œç¡®ä¿ç«¯å£å¼€æ”¾ä¸”æ— é˜²ç«å¢™é˜»æ‹¦ã€‚"},{issue:"æ— æ³•èŽ·å–æ¶ˆè´¹è€…ç»„ä¿¡æ¯",solution:"éªŒè¯Agentæœ‰è¶³å¤Ÿæƒé™è®¿é—®Kafkaé›†ç¾¤ï¼Œæ£€æŸ¥ACLé…ç½®ã€‚"}]}}[t]||{agentType:t,title:`${t.toUpperCase()} Agent å®‰è£…æŒ‡å—`,description:`${t}ç›‘æŽ§Agentçš„å®‰è£…å’Œé…ç½®æŒ‡å—ã€‚`,requirements:["ç³»ç»Ÿè¦æ±‚å¾…è¡¥å……"],steps:[{title:"ä¸‹è½½Agent",description:"ä»Žå®˜æ–¹æ¸ é“ä¸‹è½½å¯¹åº”çš„Agentå®‰è£…åŒ…ã€‚"},{title:"å®‰è£…é…ç½®",description:"æŒ‰ç…§ç³»ç»Ÿè¦æ±‚è¿›è¡Œå®‰è£…å’ŒåŸºç¡€é…ç½®ã€‚"},{title:"å¯åŠ¨æœåŠ¡",description:"å¯åŠ¨ç›‘æŽ§æœåŠ¡å¹¶éªŒè¯è¿è¡ŒçŠ¶æ€ã€‚"}]});return a?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:e.jsx(x,{size:"large",tip:"åŠ è½½å®‰è£…æŒ‡å—ä¸­..."})}):d||!l?e.jsx(u,{status:"error",title:"åŠ è½½å¤±è´¥",subTitle:d||"æœªæ‰¾åˆ°å¯¹åº”çš„å®‰è£…æŒ‡å—",extra:e.jsx(h,{type:"primary",icon:e.jsx(j,{}),onClick:()=>o(-1),children:"è¿”å›žä¸Šä¸€é¡µ"})}):e.jsxs("div",{children:[e.jsx("div",{style:{position:"fixed",top:"20px",left:"20px",zIndex:1e3},children:e.jsx(h,{icon:e.jsx(j,{}),onClick:()=>o(-1),style:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid #d9d9d9",borderRadius:"6px"},children:"è¿”å›ž"})}),e.jsx(b,{...l})]})};export{w as default};
