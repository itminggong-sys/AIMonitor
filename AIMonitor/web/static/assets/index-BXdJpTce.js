import{j as t}from"./index-iWHkNrXX.js";import{j as e,u as n,r as a}from"./vendor-D6r2_tUy.js";import{J as s,S as o,h as i,T as r,b as l,g as c,aI as g,ad as p,Q as m,i as u,U as d,aJ as h,B as f,aK as x}from"./antd-C8aMnYDz.js";const{Title:y,Paragraph:k,Text:A,Link:v}=r,{Step:w}=g,b=({agentType:e,title:n,description:a,requirements:r,steps:d,configuration:h,troubleshooting:f})=>t.jsxs("div",{className:"install-guide-container",children:[t.jsxs(s,{className:"install-guide-header",children:[t.jsxs(o,{align:"center",className:"header-content",children:[t.jsx("div",{className:"agent-icon",children:t.jsx(i,{style:{fontSize:"32px",color:"#52c41a"}})}),t.jsxs("div",{children:[t.jsx(y,{level:2,style:{margin:0},children:n}),t.jsx(l,{color:"blue",style:{marginTop:"8px"},children:e.toUpperCase()})]})]}),t.jsx(k,{style:{marginTop:"16px",fontSize:"16px"},children:a})]}),t.jsx(s,{title:t.jsxs(t.Fragment,{children:[t.jsx(c,{})," 系统要求"]}),className:"requirements-card",children:t.jsx("ul",{className:"requirements-list",children:r.map((e,n)=>t.jsxs("li",{children:[t.jsx(i,{style:{color:"#52c41a",marginRight:"8px"}}),e]},n))})}),t.jsx(s,{title:"📋 安装步骤",className:"steps-card",children:t.jsx(g,{direction:"vertical",size:"small",children:d.map((e,n)=>t.jsx(w,{title:t.jsx(A,{strong:!0,children:e.title}),description:t.jsxs("div",{className:"step-content",children:[t.jsx(k,{children:e.description}),e.code&&t.jsx("div",{className:"code-block",children:t.jsx("pre",{children:t.jsx("code",{children:e.code})})}),e.note&&t.jsx(p,{message:e.note,type:"info",showIcon:!0,style:{marginTop:"8px"}})]}),status:"process"},n))})}),h&&t.jsxs(s,{title:"⚙️ 配置说明",className:"config-card",children:[t.jsx(y,{level:4,children:h.title}),t.jsx(k,{children:h.content}),h.example&&t.jsxs("div",{children:[t.jsx(A,{strong:!0,children:"配置示例："}),t.jsx("div",{className:"code-block",children:t.jsx("pre",{children:t.jsx("code",{children:h.example})})})]})]}),f&&f.length>0&&t.jsx(s,{title:t.jsxs(t.Fragment,{children:[t.jsx(u,{})," 常见问题"]}),className:"troubleshooting-card",children:f.map((e,n)=>t.jsxs("div",{className:"troubleshooting-item",children:[t.jsxs(y,{level:5,style:{color:"#fa8c16"},children:["问题：",e.issue]}),t.jsxs(k,{children:[t.jsx(A,{strong:!0,children:"解决方案："}),e.solution]}),n<f.length-1&&t.jsx(m,{})]},n))}),t.jsx(s,{className:"footer-card",children:t.jsx(p,{message:"需要帮助？",description:t.jsxs("div",{children:["如果在安装过程中遇到问题，请查看我们的"," ",t.jsx(v,{href:"/docs",target:"_blank",children:"详细文档"})," ","或联系技术支持。"]}),type:"success",showIcon:!0})})]}),j=()=>{const{agentType:s}=e(),o=n(),[i,r]=a.useState(!0),[l,c]=a.useState(null),[g,p]=a.useState(null);a.useEffect(()=>{(async()=>{if(!s)return p("Agent类型参数缺失"),void r(!1);try{const t=await fetch(`/api/v1/agents/install-guide/${s}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json(),n=v(e,s);c(n)}catch(t){console.error("获取安装指南失败:",t),p("获取安装指南失败，请稍后重试")}finally{r(!1)}})()},[s]);const m=(t,e,n)=>{var a;return(null==(a={windows:["从官方网站或内部仓库下载最新版本的Windows Agent安装包。","将下载的安装包解压到指定目录，建议使用C:\\Program Files\\AIMonitor。","根据您的环境配置Agent连接参数，包括服务器地址、端口和认证信息。","以管理员权限运行安装脚本，将Agent注册为Windows系统服务。","启动服务并验证Agent是否正常运行，检查日志文件确认连接状态。"],linux:["使用wget或curl命令下载Linux版本的Agent安装包。","解压tar.gz文件到目标目录，通常为/opt/aimonitor。","编辑配置文件，设置监控服务器连接信息和监控项目。","运行安装脚本，自动配置systemd服务和权限设置。","启动并启用服务，确保系统重启后自动运行。"],redis:["从官方仓库下载Redis监控Agent专用安装包。","解压安装包到目标目录，建议使用/opt/aimonitor/redis-agent。","编辑config.yaml文件，配置Redis服务器连接信息，包括主机地址、端口、密码等。","启动Redis Agent程序，开始监控Redis实例的性能指标。","验证监控数据是否正常上报到监控服务器，检查Redis连接状态和指标采集。"],mysql:["下载MySQL监控Agent安装包到目标服务器。","解压安装包并进入安装目录。","在MySQL数据库中创建专用的监控用户，授予必要的查询权限。","编辑配置文件，设置MySQL连接参数和监控服务器信息。","启动MySQL Agent并验证数据库连接和监控数据上报状态。"],docker:["下载Docker监控Agent安装包。","解压到目标目录，确保Docker服务正在运行。","配置Docker API连接信息，通常使用unix socket或TCP连接。","启动Docker Agent，开始监控容器和镜像状态。","验证容器监控数据是否正常采集和上报。"],kafka:["下载Kafka监控Agent专用安装包。","解压到目标目录，确保能够访问Kafka集群。","配置Kafka连接信息，包括Broker地址列表和JMX端口。","确保Kafka集群已开启JMX监控端口，通常为9999。","启动Kafka Agent并验证集群监控数据采集状态。"],apache:["下载Apache监控Agent安装包。","解压到目标目录，确保Apache服务正在运行。","在Apache配置中启用mod_status模块，配置状态页面访问权限。","编辑Agent配置文件，设置Apache状态页面URL和监控服务器信息。","启动Apache Agent并验证Web服务器监控数据采集。"],nginx:["下载Nginx监控Agent安装包。","解压到目标目录，确保Nginx服务正在运行。","在Nginx配置中启用stub_status模块，配置状态页面。","编辑Agent配置文件，设置Nginx状态页面URL和连接信息。","启动Nginx Agent并验证Web服务器性能数据采集。"],postgresql:["下载PostgreSQL监控Agent安装包。","解压到目标目录，确保PostgreSQL服务可访问。","在PostgreSQL中创建监控用户，授予必要的查询权限。","编辑配置文件，设置数据库连接参数和监控项目。","启动PostgreSQL Agent并验证数据库监控数据上报。"],elasticsearch:["下载Elasticsearch监控Agent安装包。","解压到目标目录，确保能够访问Elasticsearch集群。","配置Elasticsearch连接信息，包括节点地址和认证信息。","如果启用了安全功能，配置用户名和密码或API密钥。","启动Elasticsearch Agent并验证集群监控数据采集。"],rabbitmq:["下载RabbitMQ监控Agent安装包。","解压到目标目录，确保RabbitMQ服务正在运行。","启用RabbitMQ Management插件，开放管理端口。","编辑配置文件，设置RabbitMQ管理接口连接信息。","启动RabbitMQ Agent并验证消息队列监控数据采集。"],hyperv:["下载Hyper-V监控Agent安装包到Windows Server。","解压到目标目录，确保具有管理员权限。","编辑配置文件，设置Hyper-V主机连接信息和监控服务器地址。","以管理员身份运行Agent程序，开始监控虚拟机状态。","验证Hyper-V虚拟化平台监控数据是否正常上报。"],vmware:["下载VMware监控Agent安装包。","解压到目标目录，确保能够访问vCenter Server或ESXi主机。","编辑配置文件，设置VMware连接信息，包括vCenter地址和认证凭据。","启动VMware Agent，开始监控虚拟化环境。","验证VMware vSphere环境监控数据是否正常采集和上报。"],apm:["下载APM监控Agent安装包。","解压到目标目录，确保目标应用程序支持APM集成。","编辑配置文件，设置应用程序信息和监控服务器连接参数。","将Agent集成到目标应用程序中，可能需要修改应用启动脚本。","重启应用程序并验证APM性能监控数据是否正常上报。"]}[t])?void 0:a[e])||"请按照步骤说明进行操作。"},u=(t,e,n)=>{var a;return null==(a={windows:['Invoke-WebRequest -Uri "https://releases.aimonitor.com/windows/latest.zip" -OutFile "aimonitor-agent.zip"','Expand-Archive -Path "aimonitor-agent.zip" -DestinationPath "C:\\Program Files\\AIMonitor"',void 0,".\\install-service.bat",'Start-Service "AIMonitor Agent"\nGet-Service "AIMonitor Agent"'],linux:["wget https://releases.aimonitor.com/linux/aimonitor-agent-latest.tar.gz","tar -xzf aimonitor-agent-latest.tar.gz\ncd aimonitor-agent","sudo nano /etc/aimonitor/config.yaml","sudo ./install.sh","sudo systemctl start aimonitor-agent\nsudo systemctl enable aimonitor-agent\nsudo systemctl status aimonitor-agent"],redis:["wget https://releases.aimonitor.com/agent/redis/latest.tar.gz","tar -xzf latest.tar.gz -C /opt/aimonitor/redis-agent","cd /opt/aimonitor/redis-agent\ncp config.template.yaml config.yaml\n# 编辑Redis连接配置\nredis:\n  host: localhost\n  port: 6379\n  password: your_password","./redis-agent --config=config.yaml","curl http://localhost:8080/health\n# 检查Agent状态"],mysql:["wget https://releases.aimonitor.com/agent/mysql/latest.tar.gz","tar -xzf latest.tar.gz -C /opt/aimonitor/mysql-agent","mysql -u root -p\nCREATE USER 'monitor'@'localhost' IDENTIFIED BY 'password';\nGRANT SELECT ON *.* TO 'monitor'@'localhost';\nFLUSH PRIVILEGES;","cd /opt/aimonitor/mysql-agent\ncp config.template.yaml config.yaml\n# 编辑MySQL连接配置\nmysql:\n  host: localhost\n  port: 3306\n  username: monitor\n  password: password","./mysql-agent --config=config.yaml\n# 验证连接状态"],docker:["wget https://releases.aimonitor.com/agent/docker/latest.tar.gz","tar -xzf latest.tar.gz -C /opt/aimonitor/docker-agent","cd /opt/aimonitor/docker-agent\ncp config.template.yaml config.yaml\n# 编辑Docker配置\ndocker:\n  endpoint: unix:///var/run/docker.sock","./docker-agent --config=config.yaml","docker ps\n# 验证容器监控数据"],kafka:["wget https://releases.aimonitor.com/agent/kafka/latest.tar.gz","tar -xzf latest.tar.gz -C /opt/aimonitor/kafka-agent",'cd /opt/aimonitor/kafka-agent\ncp config.template.yaml config.yaml\n# 编辑Kafka配置\nkafka:\n  brokers: ["localhost:9092"]\n  jmx_port: 9999',"# 确保Kafka JMX已启用\nexport JMX_PORT=9999\nkafka-server-start.sh config/server.properties","./kafka-agent --config=config.yaml\n# 验证集群监控"],apache:["wget https://releases.aimonitor.com/agent/apache/latest.tar.gz","tar -xzf latest.tar.gz -C /opt/aimonitor/apache-agent",'# 在Apache配置中添加\nLoadModule status_module modules/mod_status.so\n<Location "/server-status">\n    SetHandler server-status\n    Require local\n</Location>',"cd /opt/aimonitor/apache-agent\ncp config.template.yaml config.yaml\n# 编辑Apache配置\napache:\n  status_url: http://localhost/server-status?auto","./apache-agent --config=config.yaml\n# 验证状态页面访问"],nginx:["wget https://releases.aimonitor.com/agent/nginx/latest.tar.gz","tar -xzf latest.tar.gz -C /opt/aimonitor/nginx-agent","# 在Nginx配置中添加\nserver {\n    listen 80;\n    location /nginx_status {\n        stub_status on;\n        access_log off;\n        allow 127.0.0.1;\n        deny all;\n    }\n}","cd /opt/aimonitor/nginx-agent\ncp config.template.yaml config.yaml\n# 编辑Nginx配置\nnginx:\n  status_url: http://localhost/nginx_status","./nginx-agent --config=config.yaml\n# 验证状态页面"],postgresql:["wget https://releases.aimonitor.com/agent/postgresql/latest.tar.gz","tar -xzf latest.tar.gz -C /opt/aimonitor/postgresql-agent","psql -U postgres\nCREATE USER monitor WITH PASSWORD 'password';\nGRANT SELECT ON ALL TABLES IN SCHEMA public TO monitor;","cd /opt/aimonitor/postgresql-agent\ncp config.template.yaml config.yaml\n# 编辑PostgreSQL配置\npostgresql:\n  host: localhost\n  port: 5432\n  username: monitor\n  password: password\n  database: postgres","./postgresql-agent --config=config.yaml\n# 验证数据库连接"],elasticsearch:["wget https://releases.aimonitor.com/agent/elasticsearch/latest.tar.gz","tar -xzf latest.tar.gz -C /opt/aimonitor/elasticsearch-agent",'cd /opt/aimonitor/elasticsearch-agent\ncp config.template.yaml config.yaml\n# 编辑Elasticsearch配置\nelasticsearch:\n  hosts: ["http://localhost:9200"]\n  username: elastic\n  password: your_password',"# 如果启用了安全功能，配置认证\ncurl -u elastic:password http://localhost:9200/_cluster/health","./elasticsearch-agent --config=config.yaml\n# 验证集群连接"],rabbitmq:["wget https://releases.aimonitor.com/agent/rabbitmq/latest.tar.gz","tar -xzf latest.tar.gz -C /opt/aimonitor/rabbitmq-agent","# 启用Management插件\nrabbitmq-plugins enable rabbitmq_management","cd /opt/aimonitor/rabbitmq-agent\ncp config.template.yaml config.yaml\n# 编辑RabbitMQ配置\nrabbitmq:\n  management_url: http://localhost:15672\n  username: guest\n  password: guest","./rabbitmq-agent --config=config.yaml\n# 验证管理接口访问"],hyperv:["wget https://releases.aimonitor.com/agent/hyperv/latest.zip",'Expand-Archive -Path latest.zip -DestinationPath "C:\\Program Files\\AIMonitor\\HyperV"','cd "C:\\Program Files\\AIMonitor\\HyperV"\ncp config.template.yaml config.yaml\n# 编辑Hyper-V配置\nhyperv:\n  host: localhost\n  username: Administrator\n  password: your_password',"# 以管理员身份运行\n.\\hyperv-agent.exe --config=config.yaml","Get-VM\n# 验证虚拟机监控数据"],vmware:["wget https://releases.aimonitor.com/agent/vmware/latest.tar.gz","tar -xzf latest.tar.gz -C /opt/aimonitor/vmware-agent","cd /opt/aimonitor/vmware-agent\ncp config.template.yaml config.yaml\n# 编辑VMware配置\nvmware:\n  vcenter_host: vcenter.example.com\n  username: administrator@vsphere.local\n  password: your_password","./vmware-agent --config=config.yaml","# 验证vCenter连接\ncurl -k https://vcenter.example.com/rest/com/vmware/cis/session"],apm:["wget https://releases.aimonitor.com/agent/apm/latest.tar.gz","tar -xzf latest.tar.gz -C /opt/aimonitor/apm-agent","cd /opt/aimonitor/apm-agent\ncp config.template.yaml config.yaml\n# 编辑APM配置\napm:\n  service_name: your-application\n  environment: production","# Java应用集成示例\njava -javaagent:/opt/aimonitor/apm-agent/apm-agent.jar \\\n     -Dapm.service_name=your-app \\\n     -jar your-application.jar","# 验证APM数据上报\ncurl http://localhost:8080/apm/health"]}[t])?void 0:a[e]},y=(t,e)=>{var n;return null==(n={windows:["确保从官方或可信源下载，避免安全风险。","安装路径不要包含中文字符，避免编码问题。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可在用户登录接口(/api/v1/auth/login)的响应中获取。","安装过程需要管理员权限，请确保当前用户具有相应权限。","首次启动可能需要防火墙放行，请根据提示进行配置。"],linux:["建议使用包管理器安装依赖，确保系统兼容性。","注意文件权限设置，确保Agent有足够的读写权限。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可在用户登录接口(/api/v1/auth/login)的响应中获取。","安装脚本会自动创建系统用户，无需手动创建。","建议启用日志轮转，避免日志文件过大占用磁盘空间。"],redis:["确保Redis服务正在运行且可访问。","建议创建专用目录，便于管理和维护。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","Agent默认监听8080端口，确保端口未被占用。","建议定期检查监控数据的准确性和完整性。"],mysql:["确保MySQL服务正在运行且网络可达。","解压后请检查文件完整性，确保所有组件都已正确提取。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","配置文件中的数据库密码请使用强密码。","首次连接可能需要较长时间，请耐心等待。"],docker:["确保Docker守护进程正在运行。","检查Docker版本兼容性，建议使用Docker 19.03+。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","Agent需要读取Docker API，确保API端点配置正确。","监控数据包括容器资源使用情况，可能会产生一定的性能开销。"],kafka:["确保能够访问Kafka集群的所有Broker节点。","检查网络连通性，确保能够访问指定的端口。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","JMX监控可能会对Kafka性能产生轻微影响。","建议在生产环境中先进行小规模测试。"],apache:["确保Apache服务正在运行且配置正确。","检查Apache版本，确保支持mod_status模块。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","配置修改后需要重启Apache服务才能生效。","建议定期检查状态页面的访问日志。"],nginx:["确保Nginx服务正在运行且配置有效。","检查Nginx编译时是否包含stub_status模块。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","配置修改后需要重新加载Nginx配置。","监控数据采集频率可根据需要调整。"],postgresql:["确保PostgreSQL服务正在运行且可连接。","检查PostgreSQL版本兼容性，建议使用9.6+。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","连接池配置应根据数据库负载进行调整。","建议启用连接SSL加密，提高数据传输安全性。"],elasticsearch:["确保Elasticsearch集群状态正常。","检查网络连通性，确保能够访问所有节点。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","API密钥方式比用户名密码更安全，建议优先使用。","监控数据采集可能会对集群性能产生影响，建议合理设置采集间隔。"],rabbitmq:["确保RabbitMQ服务正在运行且状态正常。","检查RabbitMQ版本，确保支持Management插件。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","默认的guest用户只能从localhost访问。","建议为监控创建专用用户，并设置适当的权限。"],hyperv:["确保在Windows Server上运行，且已安装Hyper-V角色。","检查当前用户是否具有Hyper-V管理权限。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","Agent需要以管理员身份运行才能访问Hyper-V API。","监控数据包括虚拟机性能计数器，可能会产生一定开销。"],vmware:["确保能够访问vCenter Server或ESXi主机。","检查网络连通性和防火墙设置。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","vCenter连接可能需要较长时间建立，请耐心等待。","建议使用HTTPS连接，确保数据传输安全。"],apm:["确保目标应用程序支持APM Agent集成。","检查应用程序框架和版本兼容性。","配置文件中的api_key请填写用户登录后获得的JWT access_token，可通过调用登录接口(/api/v1/auth/login)获取。","集成后需要重启应用程序才能生效。","建议先在测试环境中验证APM功能正常。"]}[t])?void 0:n[e]},k=t=>{const e=[];return Object.entries(t).forEach(([t,n])=>{"string"==typeof n?e.push(`${t}: "${n}"`):e.push(`${t}: ${n}`)}),e.join("\n")},A=t=>({windows:[{issue:"Agent服务无法启动",solution:"检查配置文件格式是否正确，确保服务器地址可达，查看Windows事件日志获取详细错误信息。"},{issue:"监控数据未上报",solution:"验证网络连接，检查防火墙设置，确认监控服务器地址和端口配置正确。"}],linux:[{issue:"systemd服务启动失败",solution:"使用systemctl status命令查看服务状态，检查日志文件/var/log/aimonitor/agent.log，确认配置文件权限和格式。"},{issue:"权限不足错误",solution:"确保Agent进程有足够的权限访问系统资源，检查SELinux设置，必要时调整文件权限。"}],redis:[{issue:"Redis连接失败",solution:"检查Redis服务状态，验证主机地址和端口配置，确认密码认证信息正确。使用redis-cli测试连接。"},{issue:"监控指标缺失",solution:"确认Redis版本兼容性，检查INFO命令权限，验证Agent配置的监控项目是否支持。"}],mysql:[{issue:"MySQL连接被拒绝",solution:"检查MySQL服务状态，验证用户名密码，确认监控用户权限，检查MySQL绑定地址配置。"},{issue:"性能数据采集异常",solution:"确认监控用户有PROCESS权限，检查performance_schema是否启用，验证MySQL版本兼容性。"}],docker:[{issue:"Docker API连接失败",solution:"检查Docker守护进程状态，验证socket权限，确认API端点配置，检查用户组权限。"},{issue:"容器监控数据不完整",solution:"确认Docker版本兼容性，检查容器运行状态，验证cgroup配置，确保Agent有足够权限。"}],kafka:[{issue:"Kafka集群连接超时",solution:"检查网络连通性，验证Broker地址列表，确认安全配置，检查防火墙设置。"},{issue:"JMX监控数据获取失败",solution:"确认JMX端口配置，检查Kafka启动参数，验证JMX认证设置，确保端口未被占用。"}],apache:[{issue:"mod_status模块未启用",solution:"检查Apache模块配置，使用apache2ctl -M查看已加载模块，重新编译Apache或安装mod_status。"},{issue:"状态页面访问被拒绝",solution:"检查Apache配置中的访问控制，确认IP白名单设置，验证虚拟主机配置。"}],nginx:[{issue:"stub_status模块不可用",solution:"检查Nginx编译选项，使用nginx -V查看模块列表，重新编译Nginx包含stub_status模块。"},{issue:"状态页面返回404错误",solution:"检查Nginx配置语法，确认location配置正确，重新加载Nginx配置文件。"}],postgresql:[{issue:"PostgreSQL连接认证失败",solution:"检查pg_hba.conf配置，验证用户密码，确认连接方法设置，重启PostgreSQL服务。"},{issue:"统计信息收集异常",solution:"确认pg_stat_statements扩展已安装，检查统计收集器配置，验证用户查询权限。"}],elasticsearch:[{issue:"Elasticsearch集群连接失败",solution:"检查集群状态，验证节点地址，确认网络连通性，检查安全认证配置。"},{issue:"API认证失败",solution:"验证用户名密码或API密钥，检查用户权限设置，确认安全功能配置正确。"}],rabbitmq:[{issue:"Management API访问失败",solution:"确认Management插件已启用，检查端口配置，验证用户权限，确认防火墙设置。"},{issue:"队列监控数据不准确",solution:"检查RabbitMQ版本兼容性，确认统计信息收集间隔，验证队列权限设置。"}],hyperv:[{issue:"Hyper-V WMI访问被拒绝",solution:"确认用户具有Hyper-V管理权限，检查WMI服务状态，验证DCOM配置，以管理员身份运行。"},{issue:"虚拟机性能计数器缺失",solution:"检查Hyper-V集成服务，确认性能计数器已安装，重启虚拟机管理服务。"}],vmware:[{issue:"vCenter连接超时",solution:"检查网络连通性，验证vCenter地址和端口，确认SSL证书配置，检查防火墙设置。"},{issue:"API权限不足",solution:"确认用户具有只读权限，检查vCenter用户角色，验证API访问权限设置。"}],apm:[{issue:"APM Agent无法加载",solution:"检查Agent文件路径，验证应用程序兼容性，确认JVM参数配置，查看应用启动日志。"},{issue:"性能数据上报异常",solution:"检查网络连接，验证APM服务器配置，确认采样率设置，检查Agent版本兼容性。"}]}[t]||[{issue:"常见问题",solution:"请检查网络连接、配置文件格式、服务状态等基本项目，如问题持续请联系技术支持。"}]),v=(t,e)=>{if(t&&t.title&&t.installation_steps)return{agentType:e,title:t.title,description:t.description||`${e}监控Agent的安装和配置指南`,requirements:t.requirements||[],steps:(t.installation_steps||[]).map((t,n)=>({title:t,description:m(e,n),code:u(e,n),note:y(e,n)})),configuration:t.configuration?{title:"配置说明",content:"请根据实际环境修改以下配置参数：",example:k(t.configuration)}:void 0,troubleshooting:A(e)};return{windows:{agentType:"windows",title:"Windows Agent 安装指南",description:"在Windows系统上安装和配置AI Monitor Agent，用于监控系统性能、进程状态和资源使用情况。",requirements:["Windows 10 或更高版本","至少 100MB 可用磁盘空间","管理员权限",".NET Framework 4.7.2 或更高版本"],steps:[{title:"下载Agent安装包",description:"从官方网站下载最新版本的Windows Agent安装包。",code:'# 下载命令\nInvoke-WebRequest -Uri "https://releases.aimonitor.com/windows/latest.zip" -OutFile "aimonitor-agent.zip"'},{title:"解压安装包",description:"将下载的ZIP文件解压到目标目录。",code:'Expand-Archive -Path "aimonitor-agent.zip" -DestinationPath "C:\\Program Files\\AIMonitor"'},{title:"配置Agent",description:"编辑配置文件，设置监控服务器地址和认证信息。",note:"请确保配置文件中的服务器地址正确，否则Agent无法正常连接。"},{title:"安装服务",description:"以管理员身份运行安装脚本，将Agent注册为Windows服务。",code:".\\install-service.bat"},{title:"启动服务",description:"启动AI Monitor Agent服务。",code:'Start-Service "AIMonitor Agent"'}],configuration:{title:"Agent配置文件说明",content:"配置文件位于安装目录下的config.yaml，包含服务器连接、监控项目和日志设置。",example:'server:\n  host: "your-monitor-server.com"\n  port: 8080\n  token: "your-auth-token"\n\nmonitoring:\n  interval: 30s\n  metrics:\n    - cpu\n    - memory\n    - disk\n    - network\n\nlogging:\n  level: info\n  file: "logs/agent.log"'},troubleshooting:[{issue:"服务启动失败",solution:"检查配置文件格式是否正确，确保有管理员权限，查看Windows事件日志获取详细错误信息。"},{issue:"无法连接到监控服务器",solution:"验证网络连接，检查防火墙设置，确认服务器地址和端口配置正确。"}]},linux:{agentType:"linux",title:"Linux Agent 安装指南",description:"在Linux系统上安装和配置AI Monitor Agent，支持主流Linux发行版。",requirements:["Linux内核版本 3.10 或更高","至少 100MB 可用磁盘空间","root权限或sudo访问权限","systemd支持（推荐）"],steps:[{title:"下载安装包",description:"使用wget或curl下载Linux Agent安装包。",code:"wget https://releases.aimonitor.com/linux/aimonitor-agent-latest.tar.gz"},{title:"解压安装包",description:"解压下载的tar.gz文件。",code:"tar -xzf aimonitor-agent-latest.tar.gz\ncd aimonitor-agent"},{title:"运行安装脚本",description:"执行安装脚本，自动完成Agent的安装和配置。",code:"sudo ./install.sh",note:"安装脚本会自动检测系统类型并选择合适的安装方式。"},{title:"配置Agent",description:"编辑配置文件，设置监控参数。",code:"sudo nano /etc/aimonitor/config.yaml"},{title:"启动服务",description:"启动并启用AI Monitor Agent服务。",code:"sudo systemctl start aimonitor-agent\nsudo systemctl enable aimonitor-agent"}],configuration:{title:"Linux Agent配置",content:"配置文件位于/etc/aimonitor/config.yaml，包含完整的监控和连接设置。",example:'server:\n  endpoint: "https://your-server.com:8080"\n  api_key: "your-api-key"\n\nmonitoring:\n  system:\n    enabled: true\n    interval: "30s"\n  processes:\n    enabled: true\n    whitelist: ["nginx", "mysql", "redis"]\n\nlogging:\n  level: "info"\n  file: "/var/log/aimonitor/agent.log"\n  max_size: "100MB"'},troubleshooting:[{issue:"权限不足错误",solution:"确保使用sudo运行安装脚本，检查/etc/aimonitor目录的权限设置。"},{issue:"systemd服务无法启动",solution:"检查服务文件是否正确安装，使用journalctl -u aimonitor-agent查看详细日志。"}]},kafka:{agentType:"kafka",title:"Kafka Agent 安装指南",description:"监控Apache Kafka集群的性能指标、主题状态、消费者组延迟等关键信息。",requirements:["Kafka 2.0 或更高版本","Java 8 或更高版本","JMX端口访问权限","网络连接到Kafka集群"],steps:[{title:"下载Kafka Agent",description:"获取专用的Kafka监控Agent。",code:"wget https://releases.aimonitor.com/kafka/kafka-agent-latest.jar"},{title:"配置Kafka连接",description:"创建Kafka连接配置文件。",code:"cat > kafka-config.properties << EOF\nbootstrap.servers=localhost:9092\njmx.port=9999\nEOF"},{title:"启动Agent",description:"使用Java运行Kafka Agent。",code:"java -jar kafka-agent-latest.jar --config kafka-config.properties",note:"确保Kafka集群已启用JMX监控端口。"}],configuration:{title:"Kafka监控配置",content:"Kafka Agent支持监控多个集群，可配置主题、分区、消费者组等监控项。",example:'kafka:\n  clusters:\n    - name: "production"\n      bootstrap_servers: ["kafka1:9092", "kafka2:9092"]\n      jmx_port: 9999\n    - name: "staging"\n      bootstrap_servers: ["kafka-staging:9092"]\n      jmx_port: 9999\n\nmonitoring:\n  topics: ["user-events", "order-events"]\n  consumer_groups: ["analytics-group", "notification-group"]\n  metrics_interval: 30s'},troubleshooting:[{issue:"JMX连接失败",solution:"检查Kafka服务器的JMX配置，确保端口开放且无防火墙阻拦。"},{issue:"无法获取消费者组信息",solution:"验证Agent有足够权限访问Kafka集群，检查ACL配置。"}]}}[e]||{agentType:e,title:`${e.toUpperCase()} Agent 安装指南`,description:`${e}监控Agent的安装和配置指南。`,requirements:["系统要求待补充"],steps:[{title:"下载Agent",description:"从官方渠道下载对应的Agent安装包。"},{title:"安装配置",description:"按照系统要求进行安装和基础配置。"},{title:"启动服务",description:"启动监控服务并验证运行状态。"}]}};return i?t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:t.jsx(d,{size:"large",tip:"加载安装指南中..."})}):g||!l?t.jsx(h,{status:"error",title:"加载失败",subTitle:g||"未找到对应的安装指南",extra:t.jsx(f,{type:"primary",icon:t.jsx(x,{}),onClick:()=>o(-1),children:"返回上一页"})}):t.jsxs("div",{children:[t.jsx("div",{style:{position:"fixed",top:"20px",left:"20px",zIndex:1e3},children:t.jsx(f,{icon:t.jsx(x,{}),onClick:()=>o(-1),style:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid #d9d9d9",borderRadius:"6px"},children:"返回"})}),t.jsx(b,{...l})]})};export{j as default};
